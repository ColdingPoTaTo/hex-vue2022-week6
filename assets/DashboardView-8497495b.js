import{_,R as p,r as n,o as m,c as k,a as e,b as t,w as r,d as u,j as f,F as w}from"./index-494069eb.js";const{VITE_APP_URL:x}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"hexpotato",BASE_URL:"/hex-vue2022-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},R={components:{RouterView:p},methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,this.$router.push("/login")},checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=a;const o=`${x}/api/user/check`;this.$http.post(o).then(s=>{s.data.success||this.$router.push("/login")}).catch(s=>{alert("請先登入"),window.location="login.html"})}},mounted(){this.checkLogin()}},V=u("hr",null,null,-1);function $(a,o,s,g,P,c){const l=n("RouterLink"),i=n("router-link"),h=n("RouterView");return m(),k(w,null,[e(" 這是後台頁面 "),t(l,{to:"/admin/products"},{default:r(()=>[e("後台產品列表")]),_:1}),e(" | "),t(i,{to:"/admin/orders"},{default:r(()=>[e("後台訂單列表")]),_:1}),e("| "),t(i,{to:"/"},{default:r(()=>[e("回前台")]),_:1}),e("| "),u("a",{href:"#",onClick:o[0]||(o[0]=f((...d)=>c.logout&&c.logout(...d),["prevent"]))},"登出"),V,t(h)],64)}const L=_(R,[["render",$]]);export{L as default};
